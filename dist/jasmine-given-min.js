/*
jasmine-given 2.0.0
Adds a Given-When-Then DSL to jasmine as an alternative style for specs
site: https://github.com/searls/jasmine-given
*/
(function(){(function(e){var t,n,r,i,s,o,u,a;return i=null,u=function(e){var t;return t=e.toString().replace(/\n/g,"").match(/function\s?\(\)\s?{\s*(return\s+)?(.*?)(;)?\s*}/i),t&&t.length>=3?t[2]:""},beforeEach(function(){return this.addMatchers({toHaveReturnedFalseFromThen:function(e,t){var n,r;r=!1,n=void 0;try{r=this.actual.call(e)}catch(i){n=i}return this.message=function(){var e;return e="Then clause "+(t>1?" #"+t:"")+" `"+u(this.actual)+"` failed by ",n?e+="throwing: "+n.toString():e+="returning false",e},r===!1}})}),o=this,o.Given=function(){return i=o.Given,beforeEach(t(arguments))},a=[],o.When=function(){var e;return i=o.When,e=t(arguments),beforeEach(function(){return a.push(e)}),afterEach(function(){return a.pop()})},n=[],o.Invariant=function(){var e;return i=o.Invariant,e=t(arguments),beforeEach(function(){return n.push(e)}),afterEach(function(){return n.pop()})},t=function(t){var n,r;return r=s(t).firstThat(function(e){return s(e).isFunction()}),n=s(t).firstThat(function(e){return s(e).isString()}),function(){var t,i;t=e.getEnv().currentSpec,i=r.call(t);if(n){if(!t[n])return t[n]=i;throw new Error("Unfortunately, the variable '"+n+"' is already assigned to: "+t[n])}}},r=null,o.Then=function(){var t,f,l;return l=s(arguments).firstThat(function(e){return s(e).isString()}),t=s(arguments).firstThat(function(e){return s(e).isFunction()}),i=o.subsequentThen,r=f=[t],it("then "+(l!=null?l:u(f)),function(){var t,r,i,s,o,u;o=a!=null?a:[];for(i=0,s=o.length;i<s;i++)t=o[i],t();r=0,f=n.concat(f),u=[];while(r<f.length)expect(f[r]).not.toHaveReturnedFalseFromThen(e.getEnv().currentSpec,r+1),u.push(r++);return u}),{Then:subsequentThen,And:subsequentThen}},o.subsequentThen=function(e){return r.push(e),this},i=o.Given,o.And=function(){return i.apply(this,e.util.argsToArray(arguments))},s=function(e){return{isFunction:function(){return Object.prototype.toString.call(e)==="[object Function]"},isString:function(){return Object.prototype.toString.call(e)==="[object String]"},firstThat:function(t){var n;n=0;while(n<e.length){if(t(e[n])===!0)return e[n];n++}return void 0}}}})(jasmine)}).call(this);
